<?xml version="1.0" encoding="ISO-8859-1" ?>

<!DOCTYPE gsa-template
        PUBLIC "-//Art Technology Group, Inc.//DTD General SQL Adapter//EN"
        "http://www.atg.com/dtds/gsa/gsa_1.0.dtd">
<gsa-template>
	<header>
		<name>L1 Category Template</name>
		<author></author>
	</header>

	<item-descriptor name="categoryContainer" display-name-resource="categoryContainer" display-property="id"	cache-mode="simple" item-cache-size="50" query-cache-size="50">
		<attribute name="resourceBundle" value="com.bbb.cms.CmsTemplateResources" />
		<table name="BBB_L1CATEGORY_CONTAINER" type="primary"	id-column-names="cat_container_id">
			<property name="id" column-name="cat_container_id" display-name-resource="catContainerId" writable="true" category-resource="categoryContainer">
				<attribute name="resourceBundle" value="com.bbb.cms.CmsTemplateResources" />
				<attribute name="propertySortPriority" value="0" />
			</property>
			<property name="maxL2CategoryCount" column-name="max_l2_category_count" display-name-resource="maxL2CategoryCount" writable="true" category-resource="categoryContainer">
				<attribute name="resourceBundle" value="com.bbb.cms.CmsTemplateResources" />
				<attribute name="propertySortPriority" value="1" />
			</property>
			<property name="maxL3CategoryCount" column-name="max_l3_category_count" display-name-resource="maxL3CategoryCount" writable="true" category-resource="categoryContainer">
				<attribute name="resourceBundle" value="com.bbb.cms.CmsTemplateResources" />
				<attribute name="propertySortPriority" value="2" />
			</property>
			<property name="category" column-name="category_id" display-name-resource="mainCategory" cascade="update" item-type="category" repository="/atg/commerce/catalog/ProductCatalog" category-resource="categoryContainer">
				<attribute name="resourceBundle" value="com.bbb.cms.CmsTemplateResources" />
				<attribute name="propertySortPriority" value="3" />
			</property>
		</table>

		<table name="BBB_L1CATEGORY_SUBCATEGORIES" type="multi" multi-column-name="sequence_num" id-column-names="cat_container_id">
			<property name="subCategories" column-names="category_id" data-type="list" display-name-resource="subCategories" cascade="update" component-item-type="category" category-resource="categoryContainer" repository="/atg/commerce/catalog/ProductCatalog">
				<attribute name="resourceBundle" value="com.bbb.cms.CmsTemplateResources" />
				<attribute name="propertySortPriority" value="4" />
			</property>
		</table>
	</item-descriptor>
	<!-- Will be loaded from /com/bbb/repository/uitl/BBBCacheLoadingService component
	<query-items item-descriptor="categoryContainer" quiet="true">ALL</query-items>
	 -->
</gsa-template>