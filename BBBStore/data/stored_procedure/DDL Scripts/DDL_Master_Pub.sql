SET DEFINE OFF;

ALTER TABLE BBB_PUB.BBB_SKU ADD (COST NUMBER(19,7));
ALTER TABLE BBB_PUB.BBB_SKU_TRANSLATIONS ADD ATTRIBUTE_VALUE_DATE TIMESTAMP;
ALTER TABLE BBB_PUB.BBB_PROD_TRANSLATIONS ADD ATTRIBUTE_VALUE_DATE TIMESTAMP;

ALTER TABLE BBB_PUB.BBB_PRODUCT ADD MARGIN VARCHAR2(40);
ALTER TABLE BBB_PUB.BBB_PRODUCT ADD PRIMARY_NODE_ID_DEFAULT VARCHAR2(24);

CREATE TABLE BBB_PUB.BBB_BOPUS_EXCLUDED_STATES_LIST (
    ID                     		VARCHAR2(254)   NOT NULL,
    BOPUS_EXCLUDED_STATE_ID     VARCHAR2(254)   NOT NULL,
	ASSET_VERSION 				INTEGER NOT NULL,
	PRIMARY KEY(ID, BOPUS_EXCLUDED_STATE_ID,ASSET_VERSION) USING INDEX TABLESPACE INDX01
);

ALTER TABLE BBB_PUB.BBB_CHAT_ATTRIBUTES ADD (CHAT_FLAG_PDP NUMBER(1,0),CHAT_OVERRIDE_FLAG_PDP NUMBER(1,0), DAAS_FLAG_PDP NUMBER(1,0), DAAS_OVERRIDE_FLAG_PDP NUMBER(1,0));


CREATE TABLE BBB_PUB.BBB_SITE_ATTRVAL_LIST (
	ID 		VARCHAR2(254)	NOT NULL,
	ATTR_VAL_ID 		VARCHAR2(20)	NULL,
	ASSET_VERSION		INT NOT NULL,
	CONSTRAINT BBB_SITE_ATTRVAL_LIST_PK PRIMARY KEY(ID,ATTR_VAL_ID,ASSET_VERSION) USING INDEX TABLESPACE INDX01
);

CREATE TABLE BBB_PUB.CAT_PRODUCT_SEQ (
	CATEGORY_ID VARCHAR(32) NOT NULL,
	CHILD_PRD_ID VARCHAR(32) NOT NULL,
	SEQUENCE_NUM VARCHAR(32) NULL,
	ASSET_VERSION INT NOT NULL,
	CONSTRAINT CAT_PRODUCT_SEQ_PK PRIMARY KEY(CATEGORY_ID,CHILD_PRD_ID,ASSET_VERSION) USING INDEX TABLESPACE INDX01
);

CREATE TABLE BBB_PUB.BBB_SORTING_OPTIONS (
	SORTING_OPTION_ID 	VARCHAR2(254)	NOT NULL,
	SORTING_CODE 		VARCHAR2(254)	NULL,
	SORTING_VALUE 		VARCHAR2(254)	NULL,
	SORTING_ORDER 		INTEGER	NULL,
	LAST_MOD_DATE 		DATE	NULL,
	VERSION_DELETED 	NUMBER(1)	NULL,
	VERSION_EDITABLE 	NUMBER(1)	NULL,
	PRED_VERSION 		INTEGER	NULL,
	WORKSPACE_ID 		VARCHAR2(254)	NULL,
	BRANCH_ID 		VARCHAR2(254)	NULL,
	IS_HEAD 		NUMBER(1)	NULL,
	CHECKIN_DATE 		DATE	NULL,
	ASSET_VERSION 		INTEGER	NOT NULL,
	PRIMARY KEY(SORTING_OPTION_ID,ASSET_VERSION) USING INDEX TABLESPACE INDX01
);

CREATE TABLE BBB_PUB.BBB_BCC_CATEGORIES (
	ID VARCHAR2(265),
	CATEGORY_ID VARCHAR2(256),
	CHAT_ENABLE NUMBER(1),
	CHAT_URL VARCHAR2(512),
	CHAT_CODE VARCHAR2(256),
	CHAT_LINK_PLACEHOLDER  NUMBER(1,0),
	DEFAULT_SORTING_OPTION 	VARCHAR2(254)	NULL,
	ASSET_VERSION 		INTEGER NOT NULL,
	WORKSPACE_ID 		VARCHAR2(40) NOT NULL,
	BRANCH_ID 		VARCHAR2(40) NOT NULL,
	IS_HEAD 		NUMBER(1) NOT NULL,
	VERSION_DELETED 	NUMBER(1) NOT NULL,
	VERSION_EDITABLE 	NUMBER(1) NOT NULL,
	PRED_VERSION 		INTEGER NULL,
	CHECKIN_DATE 		TIMESTAMP NULL,
	CHECK (VERSION_DELETED IN (0, 1)),
	CHECK (VERSION_EDITABLE IN (0, 1)),
	CHECK (IS_HEAD IN (0, 1)),
	CHECK (CHAT_ENABLE IN (0, 1)),
	CONSTRAINT BBB_BCC_CATEGORIES_PK PRIMARY KEY(ID, ASSET_VERSION) USING INDEX TABLESPACE INDX01
);

ALTER TABLE BBB_PUB.BBB_BCC_CATEGORIES ADD (DISPLAY_ASK_AND_ANSWER NUMBER(5,0));
ALTER TABLE BBB_PUB.BBB_BCC_CATEGORIES ADD LAST_MODIFIED_DATE TIMESTAMP NULL;

ALTER TABLE BBB_PUB.BBB_CHAT_ATTRIBUTES ADD CHAT_LINK_PLACEHOLDER  NUMBER(1,0);

CREATE TABLE BBB_PUB.BBB_OMINITURE_REGISTRY_DATA (
	ASSET_VERSION         INTEGER           NOT NULL,
	REGISTRY_TEMPLATE_ID  VARCHAR2(40 BYTE) NOT NULL,
	OMNITURE_KEY          VARCHAR2(32 BYTE) NOT NULL,
	OMNITURE_VALUE        VARCHAR2(100 BYTE)
);
ALTER TABLE BBB_PUB.BBB_OMINITURE_REGISTRY_DATA  ADD PRIMARY KEY (REGISTRY_TEMPLATE_ID, OMNITURE_KEY, ASSET_VERSION);


CREATE TABLE BBB_PUB.BBB_OMINITURE_STATIC_DATA (
	ASSET_VERSION         INTEGER           NOT NULL,
	STATIC_TEMPLATE_ID  VARCHAR2(254 BYTE)  NOT NULL,
	OMNITURE_KEY          VARCHAR2(32 BYTE) NOT NULL,
	OMNITURE_VALUE        VARCHAR2(100 BYTE),
	primary key(STATIC_TEMPLATE_ID, OMNITURE_KEY,ASSET_VERSION) USING INDEX TABLESPACE INDX01
);

CREATE TABLE BBB_PUB.BBB_OMINITURE_WSSTATIC_DATA (
	ASSET_VERSION         INTEGER           NOT NULL,
	static_template_id VARCHAR2(254 BYTE)   NOT NULL,
	OMNITURE_KEY          VARCHAR2(32 BYTE) NOT NULL,
	OMNITURE_VALUE        VARCHAR2(100 BYTE),
	primary key(static_template_id, OMNITURE_KEY,ASSET_VERSION) USING INDEX TABLESPACE INDX01
);

CREATE TABLE BBB_PUB.BBB_OMINITURE_GUIDES_DATA (
	ASSET_VERSION         INTEGER           NOT NULL,
	guides_id VARCHAR2(254 BYTE)            NOT NULL,
	OMNITURE_KEY          VARCHAR2(32 BYTE) NOT NULL,
	OMNITURE_VALUE        VARCHAR2(100 BYTE),
	primary key(guides_id, OMNITURE_KEY,ASSET_VERSION) USING INDEX TABLESPACE INDX01
);

CREATE TABLE BBB_PUB.BBB_PAGETABS_TEMPLATE (
	PAGETABS_ID 	VARCHAR2(254)	NOT NULL,
	PAGE_NAME 		INTEGER	NOT NULL,
	ASSET_VERSION 		INTEGER NOT NULL,
	WORKSPACE_ID 		VARCHAR2(40) NOT NULL,
	BRANCH_ID 		VARCHAR2(40) NOT NULL,
	IS_HEAD 		NUMBER(1) NOT NULL,
	VERSION_DELETED 	NUMBER(1) NOT NULL,
	VERSION_EDITABLE 	NUMBER(1) NOT NULL,
	PRED_VERSION 		INTEGER NULL,
	CHECKIN_DATE 		TIMESTAMP NULL,
	CHECK (VERSION_DELETED IN (0, 1)),
	CHECK (VERSION_EDITABLE IN (0, 1)),
	CHECK (IS_HEAD IN (0, 1)),
	CONSTRAINT BBB_PAGETABS_TEMPLATE_PK PRIMARY KEY(PAGETABS_ID, ASSET_VERSION) USING INDEX TABLESPACE INDX01
);

CREATE TABLE BBB_PUB.BBB_PT_TABS_LIST (
	PAGETABS_ID 		VARCHAR2(254)	NOT NULL,
	SEQUENCE_NUM 		INTEGER	NOT NULL,
	ASSET_VERSION		INT NOT NULL,
	TAB_DETAILS_ID 		VARCHAR2(20)	NULL,
	CONSTRAINT BBB_PT_TABS_LIST_PK PRIMARY KEY(PAGETABS_ID, SEQUENCE_NUM,ASSET_VERSION) USING INDEX TABLESPACE INDX01
);

CREATE TABLE BBB_PUB.BBB_TABS_DETAIL (
	TAB_ID 		VARCHAR2(254)	NOT NULL,
	TAB_NAME	NUMBER(1) 	NULL,
	ASSET_VERSION 		INTEGER NOT NULL,
	WORKSPACE_ID 		VARCHAR2(40) NOT NULL,
	BRANCH_ID 		VARCHAR2(40) NOT NULL,
	IS_HEAD 		NUMBER(1) NOT NULL,
	VERSION_DELETED 	NUMBER(1) NOT NULL,
	VERSION_EDITABLE 	NUMBER(1) NOT NULL,
	PRED_VERSION 		INTEGER NULL,
	CHECKIN_DATE 		TIMESTAMP NULL,
	CHECK (VERSION_DELETED IN (0, 1)),
	CHECK (VERSION_EDITABLE IN (0, 1)),
	CHECK (IS_HEAD IN (0, 1)),
	CONSTRAINT BBB_TABS_DETAIL_PK PRIMARY KEY(TAB_ID, ASSET_VERSION) USING INDEX TABLESPACE INDX01
);

ALTER TABLE BBB_PUB.BBB_LANDING_CATEGORY ADD SEO_STATIC_TEXT VARCHAR(1000);

CREATE TABLE BBB_PUB.BBB_SMLR_PRD_IGN_LIST (
	ID 			VARCHAR2(40)	NOT NULL,
	CATEGORY_ID 		VARCHAR2(80)	NOT NULL,
	ASSET_VERSION		VARCHAR2(40) 	NOT NULL,
	CONSTRAINT BBB_SMLR_PRD_IGN_LIST_PK PRIMARY KEY(ID, CATEGORY_ID, ASSET_VERSION) USING INDEX TABLESPACE INDX01
);

ALTER TABLE BBB_PUB.BBB_SITE_ATTRIBUTES ADD SORT_OPTION VARCHAR2(254);



CREATE TABLE BBB_PUB.BBB_SORT_OPTION_LIST (
	ID VARCHAR2(254) NOT NULL,
	SORTING_OPTION_ID	VARCHAR2(254) NOT NULL ,
	ASSET_VERSION INTEGER	NOT NULL,
	PRIMARY KEY(ID, SORTING_OPTION_ID, ASSET_VERSION) USING INDEX TABLESPACE INDX01
);

CREATE TABLE BBB_PUB.BBB_CAT_SORT_OPT (
	ID 			VARCHAR2(254)	NOT NULL,
	SORTING_OPTION_ID 	VARCHAR2(254)	NOT NULL,
	ASSET_VERSION 		INTEGER	NOT NULL,
	PRIMARY KEY(ID, SORTING_OPTION_ID,ASSET_VERSION) USING INDEX TABLESPACE INDX01
);

ALTER TABLE BBB_PUB.BBB_STATES ADD IS_MILITARY_STATE NUMBER(1,0) DEFAULT 0;
ALTER TABLE BBB_PUB.BBB_EMAIL_TEMPLATE ADD (EMAIL_FLAG VARCHAR2(5));
ALTER TABLE BBB_PUB.BBB_EMAIL_TRANSLATIONS ADD (EMAIL_FLAG VARCHAR2(5));
ALTER TABLE BBB_PUB.BBB_SORTING_OPTIONS ADD SORTING_URL_PARAM VARCHAR2(254);
ALTER TABLE BBB_PUB.BBB_STATIC_TEMPLATE ADD PARENT_PAGE_ID VARCHAR2(254BYTE); 
COMMIT;